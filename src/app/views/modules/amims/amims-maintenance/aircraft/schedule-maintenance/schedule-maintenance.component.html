<nz-page-header class="site-page-header" nzBackIcon nzTitle="Aircraft Detail"
    nzSubtitle="This is a subtitle"></nz-page-header>

<div class="card status-card mt-4">
    <div class="card-body d-flex justify-content-between align-items-center">
        <div class="status-section">
            <p class="label">Status</p>
            <p class="status-text">SERVICEABLE</p>
        </div>
        <div class="info-section">
            <p class="label">Aircraft Type</p>
            <p class="value"><strong>{{ aircrafts?.actype?.actype }}</strong></p>
        </div>
        <div class="info-section">
            <p class="label">Aircraft S/N</p>
            <p class="value"><strong>{{ aircrafts?.serialNumber }}</strong></p>
        </div>
        <div class="info-section">
            <p class="label">Manufactured</p>
            <p class="value text-muted"><strong>{{ aircrafts?.actype?.acManufacture }}</strong></p>
        </div>
        <div class="info-section">
            <p class="label">Location</p>
            <p class="value"><strong>Jakarta</strong> <a href="#" class="hide-link"> > Hide / Unhide</a></p>
        </div>
    </div>
</div>
<br>

<div class="card aircraft-card">


    <!-- Body -->
    <div class="card-body">
        <div class="container mt-3">
            <table class="table table-borderless form-table">
                <tbody>
                    <!-- Row 1 -->
                    <tr>
                        <td width="20%">Registration Number <span class="text-danger">*</span></td>
                        <td width="30%">: <strong>PK-DAM</strong></td>
                        <td width="20%">Kurs</td>
                        <td width="30%">:
                            <nz-select nzPlaceHolder="Select">
                                <nz-option *ngFor="let kurs of kursOptions" [nzValue]="kurs"
                                    [nzLabel]="kurs"></nz-option>
                            </nz-select>
                        </td>
                    </tr>

                    <!-- Row 2 -->
                    <tr>
                        <td class="label">Year</td>
                        <td>:
                            <nz-range-picker [(ngModel)]="selectedDate" (ngModelChange)="onDateRangeChange()"
                                nzFormat="yyyy-MM" />
                        </td>
                        <td class="label">Add %</td>
                        <td>:
                            <input nz-input type="text" placeholder="input">
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div nz-row [nzGutter]="16">
            <div nz-col class="gutter-row" [nzSpan]="6">
                <h6 class="mt-4">AIRFRAME</h6>
                <div class="table-responsive">
                    <table class="table tsn-tso-table">
                        <thead>
                            <tr>
                                <th></th>
                                <th class="text-center">TSN</th>
                                <th class="text-center">TSO</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Cycles</strong></td>
                                <td class="text-center">{{ tableData.cycles.tsn }}</td>
                                <td class="text-center">{{ tableData.cycles.tso }}</td>
                            </tr>
                            <tr>
                                <td><strong>Hours</strong></td>
                                <td class="text-center">{{ tableData.hours.tsn }}</td>
                                <td class="text-center">{{ tableData.hours.tso }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div nz-col class="gutter-row" [nzSpan]="6">
                <h6 class="mt-4">ENGINE #1</h6>
                <div class="table-responsive">
                    <table class="table tsn-tso-table">
                        <thead>
                            <tr>
                                <th></th>
                                <th class="text-center">TSN</th>
                                <th class="text-center">TSO</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Cycles</strong></td>
                                <td class="text-center">{{ tableData.cycles.tsn }}</td>
                                <td class="text-center">{{ tableData.cycles.tso }}</td>
                            </tr>
                            <tr>
                                <td><strong>Hours</strong></td>
                                <td class="text-center">{{ tableData.hours.tsn }}</td>
                                <td class="text-center">{{ tableData.hours.tso }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div nz-col class="gutter-row" [nzSpan]="6">
                <h6 class="mt-4">ENGINE #2</h6>
                <div class="table-responsive">
                    <table class="table tsn-tso-table">
                        <thead>
                            <tr>
                                <th></th>
                                <th class="text-center">TSN</th>
                                <th class="text-center">TSO</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Cycles</strong></td>
                                <td class="text-center">{{ tableData.cycles.tsn }}</td>
                                <td class="text-center">{{ tableData.cycles.tso }}</td>
                            </tr>
                            <tr>
                                <td><strong>Hours</strong></td>
                                <td class="text-center">{{ tableData.hours.tsn }}</td>
                                <td class="text-center">{{ tableData.hours.tso }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div nz-col class="gutter-row" [nzSpan]="6">
                <div class="mt-3">
                    <div class="card parts-info-card">
                        <div class="card-body">
                            <table class="table table-borderless info-table">
                                <tbody>
                                    <tr>
                                        <td class="label">Total Parts</td>
                                        <td>: <strong>230 Parts</strong></td>
                                    </tr>
                                    <tr>
                                        <td class="label">Part Program</td>
                                        <td>: <strong>45 Parts</strong></td>
                                    </tr>
                                    <tr>
                                        <td class="label">Parts Available</td>
                                        <td>: <strong>80 of 230 Parts</strong></td>
                                    </tr>
                                    <tr>
                                        <td class="label">Est. Budget</td>
                                        <td>: <strong class="budget">IDR 130.000.000</strong></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>


    <div class="container mt-3">
        <div class="table-responsive">
            <table class="table table-bordered text-center production-table">
                <thead>
                    <tr>
                        <th *ngFor="let month of monthLabels">{{ month }}</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td *ngFor="let value of monthLabels; let i = index">
                            <span *ngIf="!editable[i]" class="non-editable">{{ value }}</span>
                            <input *ngIf="editable[i]" nz-input [(ngModel)]="monthlyData[value]" type="text"
                                class="form-control input-editable" placeholder="input">
                        </td>
                        <td><span class="total-value">{{ total | number }}</span></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="d-flex justify-content-end mt-2">
            <button nz-button nzType="default">Clear</button>
            <button nz-button nzType="primary" class="ms-2" (click)="runSimulasi()">Update</button>
        </div>
    </div>

    <br>

</div>

<br>

<!-- <h4>RETIRED PARTS</h4> 
  <app-schedule-maintenance-rt [data]="dataFiltered.RT" [CY]="simulasiCycle" [DY]="simulasiHari" [HR]="simulasiJam"></app-schedule-maintenance-rt> -->

<h4>OVERHAUL</h4>
<app-schedule-maintenance-oh [data]="dataFiltered.OH" [CY]="simulasiCycle" [DY]="simulasiHari" [HR]="simulasiJam"></app-schedule-maintenance-oh>
<!-- 
 <h4>SCHEDULE MAINTENANCE</h4>
<app-schedule-maintenance-in [data]="dataFiltered.IN" [monthLabels]="monthLabels" [monthlyData]="monthlyData" [selectedDate]="selectedDate"></app-schedule-maintenance-in>  -->